% Script generated by Brainstorm (13-Nov-2019)

% Input files
sFiles = {...
    'R2312/@raw20220708143824/data_0raw_20220708143824.mat', ...
    'R2312/@raw20220708144911/data_0raw_20220708144911.mat', ...
    'R2312/@raw20220708145922/data_0raw_20220708145922.mat', ...
    'R2595/@raw20220708122656/data_0raw_20220708122656.mat', ...
    'R2595/@raw20220708124022/data_0raw_20220708124022.mat', ...
    'R3154/@raw20220523121755/data_0raw_20220523121755.mat', ...
    'R3154/@raw20220523123300/data_0raw_20220523123300.mat', ...
    'R3154/@raw20220523124213/data_0raw_20220523124213.mat', ...
    'R3591/@raw20220707132613/data_0raw_20220707132613.mat', ...
    'R3591/@raw20220707133905/data_0raw_20220707133905.mat', ...
    'R4452/@raw20220523131716/data_0raw_20220523131716.mat', ...
    'R4452/@raw20220523133014/data_0raw_20220523133014.mat', ...
    'R4452/@raw20220523134226/data_0raw_20220523134226.mat', ...
    'R5816/@raw20220708132101/data_0raw_20220708132101.mat', ...
    'R5816/@raw20220708133226/data_0raw_20220708133226.mat', ...
    'R5816/@raw20220708134008/data_0raw_20220708134008.mat', ...
    'R5996/@raw20220707123425/data_0raw_20220707123425.mat', ...
    'R5996/@raw20220707124137/data_0raw_20220707124137.mat', ...
    'R5996/@raw20220707125151/data_0raw_20220707125151.mat', ...
    'R6013/@raw20220711142450/data_0raw_20220711142450.mat', ...
    'R6013/@raw20220711144210/data_0raw_20220711144210.mat', ...
    'R6054/@raw20220630142815/data_0raw_20220630142815.mat', ...
    'R6054/@raw20220630144129/data_0raw_20220630144129.mat', ...
    'R6055/@raw20220707141446/data_0raw_20220707141446.mat', ...
    'R6055/@raw20220707142914/data_0raw_20220707142914.mat', ...
    'R6055/@raw20220707143735/data_0raw_20220707143735.mat'};

% Start a new report
bst_report('Start', sFiles);

% Process: Resample: 200Hz
sFiles = bst_process('CallProcess', 'process_resample', sFiles, [], ...
    'freq',     200, ...
    'read_all', 1);

% Process: Band-pass:1Hz-40Hz
sFiles = bst_process('CallProcess', 'process_bandpass', sFiles, [], ...
    'sensortypes', 'MEG', ...
    'highpass',    1, ...
    'lowpass',     40, ...
    'tranband',    0, ...
    'attenuation', 'strict', ...  % 60dB
    'ver',         '2019', ...  % 2019
    'mirror',      0, ...
    'read_all',    0);

% Process: ICA components: Infomax
sFiles = bst_process('CallProcess', 'process_ica', sFiles, [], ...
    'timewindow',   [0, 475.5], ...
    'eventname',    '', ...
    'eventtime',    [-0.2, 0.2], ...
    'resample',     0, ...
    'bandpass',     [0, 0], ...
    'nicacomp',     20, ...
    'sensortypes',  'MEG', ...
    'icasort',      '', ...
    'usessp',       1, ...
    'ignorebad',    1, ...
    'saveerp',      0, ...
    'method',       1);  % Infomax:    EEGLAB / RunICA

% Save and display report
ReportFile = bst_report('Save', sFiles);
bst_report('Open', ReportFile);
% bst_report('Export', ReportFile, ExportDir);

